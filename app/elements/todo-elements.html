<link rel="import" href="../elements/elements.html">

<dom-module id="todo-element" attributes="task user rid">
		<template>
		<link rel="stylesheet" href="../elementStyle.css"/>
		<paper-material>
				<paper-checkbox></paper-checkbox>
				<paper-item id="example" hidden="{{editing}}">{{task}}</paper-item>
				<paper-input id="edit" hidden="{{!editing}}" value="{{task}}"></paper-input>
				<paper-item class="info">Created by: <span>{{ user }}</span></paper-item>
				<paper-item class="info">{{ time }}</paper-item>
				<paper-fab hidden={{editing}}  icon="icons:create" on-tap="doEdit" class="edit" mini></paper-fab>
				<paper-fab hidden={{!editing}} icon="icons:done"   on-tap="doEdit" class="done" mini></paper-fab>
				</paper-material>
		</template>
</dom-module>
<script>
	  Polymer({
	    	is: "todo-element",

				properties: {
						user: {
								type: String,
								value: ""
						},
						task: {
			        	type: String,
								value: "Hello!"
	    			},
	    			rid: {
				    		type: Number,
				    		value: -1
			    	},
			    	time: {
				    		type: String,
				    		value: new Date().toLocaleString()
				    },
			    	editing: {
				    		type: Boolean,
				    		value: false
			    	}
			  },
	    	compChanged: function(e){
		    		if(e){ this.fire('complete',this); }
				},

				doEdit: function(e){
			    	this.editing=!this.editing;
						var eTsk = this.task;
			    	if (!this.editing){ this.task=eTsk; }
				},
				ready: function(e){

				}
	  });
</script>
